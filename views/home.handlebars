<div class="container mt-3">
  <div class="jumbotron border border-dark pt-3">
    <h3><span class="text-primary">{{Articles.length}}</span> Articles Found</h3>
    <div class="row">
      {{#each Articles}}

      <div class="col-12">
        <div class="card mb-2 p-3 border-dark">
          <a href="{{link}}" class="text-info border-bottom mb-1 pb-1" target="_blank"><h5 class="mb-0"><span class="text-dark">{{@index}}. </span>{{title}}</h5></a>
          <p class="mb-3"><i>"{{summary}}"</i></p>
          <p class="mb-0 text-center"><small>{{comment.length}} Comments</small></p>
          <div class="d-flex justify-content-center">
            <a href="article/Comments/{{_id}}" class='mr-1'><button class="btn btn-outline-info">Comments</button></a>
            {{#if saved}}
            <button type="button" class="btn btn-success" data-id={{_id}} disabled><i class="far fa-check-circle"></i> Saved</button>        
            {{else}}
            <button class="btn btn-outline-success saveArticleBtn" data-id={{_id}}>Add to saved</button>  
            {{/if}}
          </div>
        </div>
      </div>
      {{/each}}
    </div>

  </div>
</div>

<script>

  $('.saveArticleBtn').on('click', function(){
    var ArticleID={ _id: $(this).data("id")}
    console.log(ArticleID)

    $.ajax("/api/savedArticles", {
      type: "PUT",
      data: ArticleID
    }).then(function(res){
      console.log(res);
      alert('You have saved this article')
    })
    location.reload();
  })
</script>